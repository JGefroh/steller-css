// -----------------------------
// Grid
// -----------------------------

$grid-breakpoints-gutters-map: (
  (sm, null, $column-gutter-sm, $row-gutter-sm),
  (md, tablet-vertical, $column-gutter-md, $row-gutter-md),
  (lg, desktop, $column-gutter-lg, $row-gutter-lg),
);

// NB - ideally we handle all functional class responsiveness in `responsive_class_variants.scss`, but
// grid responsiveness is a unique case in that it has different attribute values (the gutter values) at
// different media sizes, so it is handled separately
.grid {
  display: grid;
  grid-template-columns: repeat($grid-columns, 1fr);

  @each $prefix, $min-width-label, $col-gutter, $row-gutter in $grid-breakpoints-gutters-map {
    @if $prefix == sm { // mobile first!
      grid-column-gap: $col-gutter;
      grid-row-gap: $row-gutter;
    }
    @else {
      @include above-media($min-width-label) {
        grid-column-gap: $col-gutter;
        grid-row-gap: $row-gutter;
      }
    }
  }
}
